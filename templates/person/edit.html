{% extends "base.html" %}
{% load i18n %}
{% load render_versions %}
{% load static %}
{% block extra_head %}
    <link rel="stylesheet" href="{% static "css/select2.min.css" %}">
{% endblock %}
{% block content %}

    <div class="row header">
        <div class="inner-title-wrapper">
            {% block form_title %}{% endblock %}
        </div>
    </div>
    <div class="row">
        <div class="col-sm-6">
        <form class="form" method="POST">
            {% csrf_token %}
            {% if form.name.errors %}
                <div class="form-group has-error has-feedback">
            {% else %}
                <div class="form-group">
            {% endif %}
                <label class="control-label">{% trans "Person name" %}</label>
                <input type="text" value="{{ form.instance.name.get_field.value }}" />
                <input type="hidden" name="name" value="{{ form.instance.name.get_field.id }}" />
                {% if form.name.errors %}
                    {% for error in form.name.errors %}
                    <span class="help-block"><i class="fa fa-remove"> </i> {{error}}</span>
                    {% endfor %}
                {% endif %}
            </div>
            {% if form.alias.errors %}
                <div class="form-group has-error has-feedback">
            {% else %}
                <div class="form-group">
            {% endif %}
                <label class="control-label">{% trans "Aliases" %}</label>
                <select id="id_alias" class="form-control" name="aliases" multiple="multiple">
                    {% for alias in form.instance.aliases.get_list %}
                        <option value="{{ alias.get_field.id }}" selected=true>{{ alias.get_field.value }}</option>
                    {% endfor %}
                </select>
                {% if form.aliases.errors %}
                    {% for error in form.aliases.errors %}
                    <span class="help-block"><i class="fa fa-remove"> </i> {{error}}</span>
                    {% endfor %}
                {% endif %}
            </div>
            <br />
            <hr>
        </form>
        <div class="row">
            <div class="col-sm-12 col-md-12">
                <button class="btn col-sm-2 pull-right" type="submit">Save</button>
            </div>
        </div>
{% endblock %}
